(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.3' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     15570,        365]
NotebookOptionsPosition[     14416,        338]
NotebookOutlinePosition[     14761,        353]
CellTagsIndexPosition[     14718,        350]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"DownloadFolder", "[", 
   RowBox[{"year_", ",", "day_", ",", "hour_", ",", "channels_"}], "]"}], ":=",
   "\[IndentingNewLine]", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"files", ",", 
      RowBox[{"dir", " ", "=", 
       RowBox[{"Directory", "[", "]"}]}]}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"SetDirectory", "[", "\"\<B:\\\\SatelliteData\>\"", "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"RunProcess", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"\"\<aws\>\"", ",", "\"\<s3\>\"", ",", "\"\<cp\>\"", ",", 
         RowBox[{"\"\<s3://noaa-goes16/ABI-L1b-RadF/\>\"", "<>", 
          RowBox[{"ToString", "@", "year"}], "<>", "\"\</\>\"", "<>", 
          RowBox[{"IntegerString", "[", 
           RowBox[{"day", ",", "10", ",", "3"}], "]"}], "<>", "\"\</\>\"", "<>", 
          RowBox[{"IntegerString", "[", 
           RowBox[{"hour", ",", "10", ",", "2"}], "]"}]}], ",", "\"\<.\>\"", 
         ",", "\"\<--no-sign-request\>\"", ",", " ", "\"\<--endpoint-url\>\"",
          ",", "\"\<https://osdc.rcc.uchicago.edu\>\"", ",", " ", 
         "\"\<--no-verify-ssl\>\"", ",", " ", "\"\<--recursive\>\"", ",", 
         "\"\<--exclude\>\"", ",", "\"\<\\\"*\\\"\>\"", ",", " ", 
         "\"\<--include\>\"", ",", 
         RowBox[{
         "\"\<\\\"*M3C0[\>\"", "<>", "channels", "<>", "\"\<]?*\\\"\>\""}]}], 
        "}"}], ",", 
       RowBox[{
       "ProcessDirectory", "\[Rule]", "\"\<B:\\\\SatelliteData\>\""}]}], 
      "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"files", "=", 
      RowBox[{"FileNames", "[", "\"\<*.nc\>\"", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"CropData", "/@", "files"}], ";", "\[IndentingNewLine]", 
     RowBox[{"SetDirectory", "[", "dir", "]"}], ";"}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 CellChangeTimes->{{3.730167011645079*^9, 3.7301670214297814`*^9}, {
  3.7301678261653147`*^9, 3.7301679082371573`*^9}, {3.7301679845601196`*^9, 
  3.730168144535437*^9}, {3.7301690834702096`*^9, 3.7301691005997825`*^9}, {
  3.730170282546846*^9, 3.7301702891131573`*^9}, {3.7301703201486473`*^9, 
  3.7301703788347125`*^9}, {3.7301706787474747`*^9, 3.730170684589115*^9}},
 CellLabel->"In[5]:=",ExpressionUUID->"6201a020-ca50-4ee9-b799-4f8287c4411a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"CropData", "[", "file_", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"rad", "=", 
      RowBox[{"Import", "[", 
       RowBox[{"file", ",", "\"\<Rad\>\""}], "]"}]}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"rad", "=", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Length", "@", "rad"}], " ", ">", "20000"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"rad", "[", 
         RowBox[{"[", 
          RowBox[{
           RowBox[{"6485", ";;", "12485"}], ",", 
           RowBox[{"10869", ";;", "13869"}]}], "]"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"rad", "[", 
         RowBox[{"[", 
          RowBox[{
           RowBox[{"3242", ";;", "6242"}], ",", 
           RowBox[{"5434", ";;", "8434"}]}], "]"}], "]"}]}], 
       "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Export", "[", 
      RowBox[{
       RowBox[{"\"\<CSV\\\\\>\"", "<>", 
        RowBox[{"First", "@", 
         RowBox[{"StringSplit", "[", 
          RowBox[{"file", ",", "\"\<.\>\""}], "]"}]}], "<>", "\"\<.dat\>\""}],
        ",", "rad", ",", "\"\<Integer16\>\""}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"DeleteFile", "[", "file", "]"}], ";"}]}], "\[IndentingNewLine]",
    "]"}]}]], "Input",
 CellChangeTimes->{{3.730169114714282*^9, 3.730169187443625*^9}, 
   3.730169779634753*^9, {3.7301704148302145`*^9, 3.7301706615677924`*^9}, {
   3.730171025143123*^9, 3.7301710267883615`*^9}, {3.7301711007544355`*^9, 
   3.7301711031578927`*^9}, {3.730171568267968*^9, 3.7301715789860444`*^9}, {
   3.730196596970251*^9, 3.730196600483564*^9}},
 CellLabel->"In[44]:=",ExpressionUUID->"f0d83c1c-07d4-48f9-88bf-d13c4b55f38f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"hours", "=", 
   RowBox[{"Range", "[", 
    RowBox[{"11", ",", "23"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"days", "=", 
   RowBox[{"Range", "[", 
    RowBox[{"200", ",", "205"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ranges", "=", 
   RowBox[{"Flatten", "[", 
    RowBox[{
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"2017", ",", "d", ",", "h", ",", "\"\<123\>\""}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"d", ",", "days"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"h", ",", "hours"}], "}"}]}], "]"}], ",", "1"}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.730170709391426*^9, 3.730170716514415*^9}, {
   3.7301707470053234`*^9, 3.730170800501523*^9}, {3.730170836541354*^9, 
   3.7301708883655434`*^9}, {3.7301709260430055`*^9, 3.7301709262134595`*^9}, 
   3.730171215683618*^9, {3.730171950268073*^9, 3.730171950445545*^9}},
 CellLabel->"In[6]:=",ExpressionUUID->"5411c638-8e30-4bcf-b097-a14d0f79377a"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"DownloadFolder", "@@@", "ranges"}]], "Input",
 CellChangeTimes->{{3.7301719523125105`*^9, 3.7301719739337626`*^9}},
 CellLabel->"In[10]:=",ExpressionUUID->"edbe68ed-2855-4d04-b79e-9254fe78d5fa"],

Cell[BoxData["$Aborted"], "Output",
 CellChangeTimes->{3.7301954345079565`*^9},
 CellLabel->"Out[10]=",ExpressionUUID->"2feca62b-d06b-4978-9b0c-06e924d10e56"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData["ranges"], "Input",
 CellChangeTimes->{{3.730195581137305*^9, 3.73019558296679*^9}, 
   3.7301965565361595`*^9},
 CellLabel->"In[11]:=",ExpressionUUID->"305f438b-aedb-4061-82ed-a89835a62974"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"2017", ",", "200", ",", "11", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "200", ",", "12", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "200", ",", "13", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "200", ",", "14", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "200", ",", "15", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "200", ",", "16", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "200", ",", "17", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "200", ",", "18", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "200", ",", "19", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "200", ",", "20", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "200", ",", "21", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "200", ",", "22", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "200", ",", "23", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "201", ",", "11", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "201", ",", "12", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "201", ",", "13", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "201", ",", "14", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "201", ",", "15", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "201", ",", "16", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "201", ",", "17", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "201", ",", "18", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "201", ",", "19", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "201", ",", "20", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "201", ",", "21", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "201", ",", "22", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "201", ",", "23", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "202", ",", "11", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "202", ",", "12", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "202", ",", "13", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "202", ",", "14", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "202", ",", "15", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "202", ",", "16", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "202", ",", "17", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "202", ",", "18", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "202", ",", "19", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "202", ",", "20", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "202", ",", "21", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "202", ",", "22", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "202", ",", "23", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "203", ",", "11", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "203", ",", "12", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "203", ",", "13", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "203", ",", "14", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "203", ",", "15", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "203", ",", "16", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "203", ",", "17", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "203", ",", "18", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "203", ",", "19", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "203", ",", "20", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "203", ",", "21", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "203", ",", "22", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "203", ",", "23", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "204", ",", "11", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "204", ",", "12", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "204", ",", "13", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "204", ",", "14", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "204", ",", "15", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "204", ",", "16", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "204", ",", "17", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "204", ",", "18", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "204", ",", "19", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "204", ",", "20", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "204", ",", "21", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "204", ",", "22", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "204", ",", "23", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "205", ",", "11", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "205", ",", "12", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "205", ",", "13", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "205", ",", "14", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "205", ",", "15", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "205", ",", "16", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "205", ",", "17", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "205", ",", "18", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "205", ",", "19", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "205", ",", "20", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "205", ",", "21", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "205", ",", "22", ",", "\<\"123\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2017", ",", "205", ",", "23", ",", "\<\"123\"\>"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{3.730195583229489*^9},
 CellLabel->"Out[11]=",ExpressionUUID->"fb1fcb7b-94ef-4124-b2be-35762546d501"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Abs", "[", 
  RowBox[{"6485", "-", "12485"}], "]"}]], "Input",
 CellChangeTimes->{{3.7301965590037546`*^9, 3.730196563127881*^9}},
 CellLabel->"In[43]:=",ExpressionUUID->"ae44d17a-e162-4840-8b12-776a2d4dc3a9"],

Cell[BoxData["6000"], "Output",
 CellChangeTimes->{3.7301965634116354`*^9},
 CellLabel->"Out[43]=",ExpressionUUID->"8340870c-bfb0-4641-a100-c845ecbef0e4"]
}, Open  ]]
},
WindowSize->{759, 807},
WindowMargins->{{Automatic, 369}, {164, Automatic}},
FrontEndVersion->"11.3 para Microsoft Windows (64-bit) (March 6, 2018)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 2322, 46, 238, "Input",ExpressionUUID->"6201a020-ca50-4ee9-b799-4f8287c4411a"],
Cell[2883, 68, 1797, 44, 195, "Input",ExpressionUUID->"f0d83c1c-07d4-48f9-88bf-d13c4b55f38f"],
Cell[4683, 114, 1055, 26, 67, "Input",ExpressionUUID->"5411c638-8e30-4bcf-b097-a14d0f79377a"],
Cell[CellGroupData[{
Cell[5763, 144, 218, 3, 28, "Input",ExpressionUUID->"edbe68ed-2855-4d04-b79e-9254fe78d5fa"],
Cell[5984, 149, 158, 2, 32, "Output",ExpressionUUID->"2feca62b-d06b-4978-9b0c-06e924d10e56"]
}, Open  ]],
Cell[CellGroupData[{
Cell[6179, 156, 204, 3, 28, "Input",ExpressionUUID->"305f438b-aedb-4061-82ed-a89835a62974"],
Cell[6386, 161, 7587, 161, 394, "Output",ExpressionUUID->"fb1fcb7b-94ef-4124-b2be-35762546d501"]
}, Open  ]],
Cell[CellGroupData[{
Cell[14010, 327, 233, 4, 28, "Input",ExpressionUUID->"ae44d17a-e162-4840-8b12-776a2d4dc3a9"],
Cell[14246, 333, 154, 2, 32, "Output",ExpressionUUID->"8340870c-bfb0-4641-a100-c845ecbef0e4"]
}, Open  ]]
}
]
*)

